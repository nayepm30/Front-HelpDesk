{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"bootstrap/dist/css/bootstrap.min.css\";import\"bootstrap-icons/font/bootstrap-icons.css\";import\"./Usuarios.css\";// reutiliza el mismo CSS\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UsuariosInactivos(){const[usuarios,setUsuarios]=useState([]);const[cargando,setCargando]=useState(true);const[error,setError]=useState(\"\");const obtenerUsuarios=async()=>{try{const res=await fetch(\"http://localhost:3001/web/usuariosInactivos\");if(!res.ok)throw new Error(\"Error al obtener usuarios\");const datos=await res.json();setUsuarios(datos);}catch(err){setError(err.message);}finally{setCargando(false);}};useEffect(()=>{obtenerUsuarios();},[]);const activarUsuario=async id_usuario=>{if(!window.confirm(\"¿Seguro que deseas activar este usuario?\"))return;try{const res=await fetch(\"http://localhost:3001/web/usuariosActivar/\".concat(id_usuario),{method:\"PUT\"});const data=await res.json();if(!res.ok||!data.success){alert(data.message||\"Error al activar usuario\");return;}alert(\"Usuario activado correctamente\");setUsuarios(usuarios.filter(u=>u.id_usuario!==id_usuario));}catch(err){console.error(\"Error al activar usuario:\",err);alert(\"Error al activar usuario\");}};if(cargando)return/*#__PURE__*/_jsx(\"p\",{className:\"text-center mt-5\",children:\"Cargando usuarios...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{className:\"text-danger text-center mt-5\",children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4 usuarios-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-dark\",children:\"Usuarios Inactivos\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive shadow-sm rounded\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover align-middle\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-danger\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Correo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rol\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\xC1rea\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:usuarios.map(usuario=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:usuario.id_usuario}),/*#__PURE__*/_jsx(\"td\",{children:usuario.nombre_usuario}),/*#__PURE__*/_jsx(\"td\",{children:usuario.correo}),/*#__PURE__*/_jsx(\"td\",{children:usuario.telefono}),/*#__PURE__*/_jsx(\"td\",{children:usuario.nombre_rol}),/*#__PURE__*/_jsx(\"td\",{children:usuario.nombre_area}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-success btn-sm\",onClick:()=>activarUsuario(usuario.id_usuario),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle\"}),\" Activar\"]})})]},usuario.id_usuario))})]})})]});}export default UsuariosInactivos;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","UsuariosInactivos","usuarios","setUsuarios","cargando","setCargando","error","setError","obtenerUsuarios","res","fetch","ok","Error","datos","json","err","message","activarUsuario","id_usuario","window","confirm","concat","method","data","success","alert","filter","u","console","className","children","map","usuario","nombre_usuario","correo","telefono","nombre_rol","nombre_area","onClick"],"sources":["C:/Users/nayep/Desktop/Proyecto_10mo-react/React/help-desk/src/components/modulos/usuarios/UsuariosInactivos.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport \"./Usuarios.css\"; // reutiliza el mismo CSS\n\nfunction UsuariosInactivos() {\n  const [usuarios, setUsuarios] = useState([]);\n  const [cargando, setCargando] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  const obtenerUsuarios = async () => {\n    try {\n      const res = await fetch(\"http://localhost:3001/web/usuariosInactivos\");\n      if (!res.ok) throw new Error(\"Error al obtener usuarios\");\n      const datos = await res.json();\n      setUsuarios(datos);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setCargando(false);\n    }\n  };\n\n  useEffect(() => {\n    obtenerUsuarios();\n  }, []);\n\n  const activarUsuario = async (id_usuario) => {\n    if (!window.confirm(\"¿Seguro que deseas activar este usuario?\")) return;\n\n    try {\n      const res = await fetch(\n        `http://localhost:3001/web/usuariosActivar/${id_usuario}`,\n        { method: \"PUT\" }\n      );\n      const data = await res.json();\n\n      if (!res.ok || !data.success) {\n        alert(data.message || \"Error al activar usuario\");\n        return;\n      }\n\n      alert(\"Usuario activado correctamente\");\n      setUsuarios(usuarios.filter((u) => u.id_usuario !== id_usuario));\n    } catch (err) {\n      console.error(\"Error al activar usuario:\", err);\n      alert(\"Error al activar usuario\");\n    }\n  };\n\n  if (cargando) return <p className=\"text-center mt-5\">Cargando usuarios...</p>;\n  if (error) return <p className=\"text-danger text-center mt-5\">{error}</p>;\n\n  return (\n    <div className=\"container mt-4 usuarios-container\">\n      <div className=\"d-flex justify-content-between align-items-center mb-3\">\n        <h2 className=\"text-dark\">Usuarios Inactivos</h2>\n      </div>\n\n      <div className=\"table-responsive shadow-sm rounded\">\n        <table className=\"table table-hover align-middle\">\n          <thead className=\"table-danger\">\n            <tr>\n              <th>ID</th>\n              <th>Nombre</th>\n              <th>Correo</th>\n              <th>Teléfono</th>\n              <th>Rol</th>\n              <th>Área</th>\n              <th>Acciones</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {usuarios.map((usuario) => (\n              <tr key={usuario.id_usuario}>\n                <td>{usuario.id_usuario}</td>\n                <td>{usuario.nombre_usuario}</td>\n                <td>{usuario.correo}</td>\n                <td>{usuario.telefono}</td>\n                <td>{usuario.nombre_rol}</td>\n                <td>{usuario.nombre_area}</td>\n                <td>\n                  <button\n                    className=\"btn btn-outline-success btn-sm\"\n                    onClick={() => activarUsuario(usuario.id_usuario)}\n                  >\n                    <i className=\"bi bi-check-circle\"></i> Activar\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\nexport default UsuariosInactivos;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}